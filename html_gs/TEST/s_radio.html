<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link type="text/css" rel="stylesheet" href="../css/style.css" />
    <script type="text/javascript" src="../js/library/jquery-2.1.4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.8/lib/draggable.bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.8/lib/sortable.js"></script>
    <style>
      .StackedListContent {
        position: relative;
      }

      .StackedListItem--isDraggable.draggable-mirror .StackedListContent {
        z-index: 999;
        transform: scale(1.11);
        box-shadow: 0px 4px 30px rgba(158, 158, 158, 0.7);
        background: #f4f4f4;
        animation: shake 0.5s ease-in-out infinite;
        backface-visibility: hidden;
        perspective: 1000px;
      }

      .draggable-bg {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        content: "";
        pointer-events: none;
        user-select: none;
        background: rgba(151, 151, 151, 0.3);
        background-image: url(../images/dash.png);
        opacity: 0.45;
      }

      .StackedListItem--isDraggable.draggable-source--is-dragging
        .StackedListContent
        .draggable-bg {
        display: block;
      }

      @keyframes shake {
        0% {
          -webkit-transform: translate(0px, 0px);
        }
        50% {
          -webkit-transform: translate(10px, 0px);
        }
        100% {
          -webkit-transform: translate(0px, -0px);
        }
      }
    </style>
  </head>

  <body class="body-create">
    <div id="wrapper" class="create">
      <div class="page-top">
        <div class="page-header">
          <div class="page-header-left">
            <button class="icon-container">
              <i class="icon icon-close"></i>
            </button>
          </div>
          <h1 class="page-title">
            설문 생성
          </h1>
        </div>

        <div class="create-process active-2">
          <!--
          [전달사항] 활성화된 순서에 따라 create-process에
          active-1, active-2, active-3, active-4 클래스를 각각 추가해주세요.
        -->
          <div class="process-level">
            <span class="text">설문 정보 입력</span>
          </div>
          <div class="process-level">
            <span class="text">설문 문항 작성</span>
          </div>
          <div class="process-level">
            <span class="text">설문 대상 설정</span>
          </div>
          <div class="process-level">
            <span class="text">작성 정보 확인</span>
          </div>
        </div>
      </div>
      <!-- //end of .page-top -->

      <div class="page-body">
        <div class="create-item-container">
          <section id="SimpleList" class="SimpleList">
            <ul class="StackedList StackedList--hasScroll" tabindex="0">
              <li
                class="StackedListItem StackedListItem--isDraggable StackedListItem--item1"
                tabindex="1"
              >
                <div class="StackedListContent">
                  <div
                    class="wrap-question set-votingItemType-area type-choice"
                  >
                    <!--
                [전달사항] <test.js에서 확인 가능>
                - 객관식 타입일 때: .set-votingItemType-area에 type-choice 클래스 추가 && type-answer 클래스 제거
                - 주관식 타입일 때: .set-votingItemType-area에 type-answer 클래스 추가 && type-choice 클래스 제거
                -->

                    <div class="question-title">
                      <p class="question-text">Question 01</p>
                    </div>

                    <div class="question-content">
                      <style>
                        .test {
                          width: 100px;
                          height: 100px;
                          background: pink;
                        }

                        .test:checked {
                          outline: 3px solid red;
                        }
                      </style>
                      <form id="formTest">
                        <label for=""
                          >라디오 <input class="test" type="radio" name="test1"
                        /></label>
                        <label for=""
                          >라디오 <input class="test" type="radio" name="test1"
                        /></label>
                      </form>

                      <ul class="create-item">
                        <li>
                          <p class="create-title">타입 설정</p>
                        </li>
                        <li>
                          <div class="create-radio-container">
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-choice1"
                                name="votingItemType1"
                                class="create-radio"
                              />
                              <label for="votingItemType-choice1">객관식</label>
                            </div>
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-answer1"
                                name="votingItemType1"
                                class="create-radio"
                              />
                              <label for="votingItemType-answer1">주관식</label>
                            </div>
                          </div>
                        </li>
                      </ul>
                      <form>
                        <div class="set-choiceItem-area">
                          <ul class="create-item">
                            <li>
                              <p class="create-title">제목 입력</p>
                            </li>
                            <li class="create-error">
                              <input
                                type="text"
                                placeholder="설문 문항의 제목을 입력하세요."
                                class="create-input"
                              />
                            </li>
                          </ul>

                          <ul class="create-item">
                            <li>
                              <input
                                type="text"
                                placeholder="답변 항목을 입력하세요."
                                value=""
                                class="create-input"
                              />
                            </li>
                            <li class="create-error">
                              <!--
                      [전달사항] 에러가 난 경우 .create-errror를 붙여주세요.
                    -->
                              <input
                                type="text"
                                placeholder="답변 항목을 입력하세요."
                                value=""
                                class="create-input"
                              />
                            </li>
                            <li class="create-error">
                              <input
                                type="text"
                                placeholder="답변 항목을 입력하세요."
                                value=""
                                class="create-input"
                              />
                              <button class="button-answer-delete">
                                <i class="icon icon-answer-delete"></i>
                              </button>
                            </li>
                            <li>
                              <button
                                class="button-add-votingItem"
                                data-type="text"
                              >
                                <i class="icon icon-plus"></i>
                              </button>
                            </li>
                          </ul>

                          <ul class="create-item">
                            <li>
                              <div class="create-toggle">
                                <p class="toggle-title">복수 선택</p>

                                <input
                                  id="option-choice-multiple1"
                                  type="checkbox"
                                  class="toggle-checkbox"
                                  checked
                                />
                                <label
                                  for="option-choice-multiple1"
                                  class="toggle-switch"
                                >
                                  <div class="toggle-body"></div>
                                  <div class="toggle-head"></div>
                                </label>
                              </div>
                              <!-- [전달사항] checkbox가 checked 된 상태일 때 활성화된 ui로 바뀝니다.  -->
                            </li>
                            <li>
                              <div class="create-toggle">
                                <p class="toggle-title">직접 입력 허용</p>

                                <input
                                  id="option-choice-write1"
                                  type="checkbox"
                                  class="toggle-checkbox"
                                />
                                <label
                                  for="option-choice-write1"
                                  class="toggle-switch"
                                >
                                  <div class="toggle-body"></div>
                                  <div class="toggle-head"></div>
                                </label>
                              </div>
                            </li>
                            <li>
                              <div class="create-toggle">
                                <p class="toggle-title">필수 문항</p>
                                <input
                                  id="option-choice-required1"
                                  type="checkbox"
                                  class="toggle-checkbox"
                                />
                                <label
                                  for="option-choice-required1"
                                  class="toggle-switch"
                                >
                                  <div class="toggle-body"></div>
                                  <div class="toggle-head"></div>
                                </label>
                              </div>
                            </li>
                          </ul>
                        </div>
                      </form>
                      <div class="set-answerItem-area">
                        <ul class="create-item">
                          <li>
                            <p class="create-title">제목 입력</p>
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="설문 문항의 제목을 입력하세요."
                              class="create-input"
                              value="강의계획서대로 잘 진행되었나요?"
                            />
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">필수 문항</p>

                              <input
                                id="option-answer-required1"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-answer-required1"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <!-- //end of .wrap-question -->
                  <div class="draggable-bg"></div>
                </div>
              </li>
              <li
                class="StackedListItem StackedListItem--isDraggable StackedListItem--item2"
                tabindex="1"
              >
                <div class="StackedListContent">
                  <div class="wrap-question set-votingItemType-area closed">
                    <div class="question-title">
                      <p class="question-text">Question 02</p>
                      <button class="question-delete">삭제하기</button>
                    </div>

                    <div class="question-content">
                      <ul class="create-item">
                        <li>
                          <p class="create-title">타입 설정</p>
                        </li>
                        <li>
                          <div class="create-radio-container">
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-choice2"
                                name="votingItemType2"
                                class="create-radio"
                              />
                              <label for="votingItemType-choice2">객관식</label>
                            </div>
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-answer2"
                                name="votingItemType2"
                                class="create-radio"
                              />
                              <label for="votingItemType-answer2">주관식</label>
                            </div>
                          </div>
                        </li>
                      </ul>

                      <div class="set-choiceItem-area">
                        <ul class="create-item">
                          <li>
                            <p class="create-title">제목 입력</p>
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="설문 문항의 제목을 입력하세요."
                              class="create-input"
                              value="강의내용을 평가해주세요."
                            />
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <input
                              type="text"
                              placeholder="답변 항목을 입력하세요."
                              value="매우 만족"
                              class="create-input"
                            />
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="답변 항목을 입력하세요."
                              value="만족"
                              class="create-input"
                            />
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="답변 항목을 입력하세요."
                              value="보통"
                              class="create-input"
                            />
                            <button class="button-answer-delete">
                              <i class="icon icon-answer-delete"></i>
                            </button>
                          </li>
                          <li>
                            <button
                              class="button-add-votingItem"
                              data-type="text"
                            >
                              <i class="icon icon-plus"></i>
                            </button>
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">복수 선택</p>

                              <input
                                id="option-choice-multiple2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-multiple2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">직접 입력 허용</p>

                              <input
                                id="option-choice-write2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-write2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">필수 문항</p>

                              <input
                                id="option-choice-required2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-required2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                        </ul>
                      </div>

                      <div class="set-answerItem-area">
                        <ul class="create-item">
                          <li>
                            <p class="create-title">제목 입력</p>
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="설문 문항의 제목을 입력하세요."
                              class="create-input"
                            />
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">필수 문항</p>

                              <input
                                id="option-answer-required2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-answer-required2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <!-- //end of .wrap-question -->
                  <div class="draggable-bg"></div>
                </div>
              </li>
              <li
                class="StackedListItem StackedListItem--isDraggable StackedListItem--item3"
                tabindex="1"
              >
                <div class="StackedListContent">
                  <div class="wrap-question set-votingItemType-area closed">
                    <div class="question-title">
                      <p class="question-text">Question 03</p>
                      <button class="question-delete">삭제하기</button>
                    </div>

                    <div class="question-content">
                      <ul class="create-item">
                        <li>
                          <p class="create-title">타입 설정</p>
                        </li>
                        <li>
                          <div class="create-radio-container">
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-choice2"
                                name="votingItemType2"
                                class="create-radio"
                              />
                              <label for="votingItemType-choice2">객관식</label>
                            </div>
                            <div class="radio">
                              <input
                                type="radio"
                                id="votingItemType-answer2"
                                name="votingItemType2"
                                class="create-radio"
                              />
                              <label for="votingItemType-answer2">주관식</label>
                            </div>
                          </div>
                        </li>
                      </ul>

                      <div class="set-choiceItem-area">
                        <ul class="create-item">
                          <li>
                            <p class="create-title">제목 입력</p>
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="설문 문항의 제목을 입력하세요."
                              class="create-input"
                              value=""
                            />
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <input
                              type="text"
                              placeholder="답변 항목을 입력하세요."
                              value=""
                              class="create-input"
                            />
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder="답변 항목을 입력하세요."
                              value=""
                              class="create-input"
                            />
                          </li>
                          <li>
                            <button
                              class="button-add-votingItem"
                              data-type="text"
                            >
                              <i class="icon icon-plus"></i>
                            </button>
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">복수 선택</p>

                              <input
                                id="option-choice-multiple2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-multiple2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">직접 입력 허용</p>

                              <input
                                id="option-choice-write2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-write2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">필수 문항</p>

                              <input
                                id="option-choice-required2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-choice-required2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                        </ul>
                      </div>

                      <div class="set-answerItem-area">
                        <ul class="create-item">
                          <li>
                            <p class="create-title">제목 입력</p>
                          </li>
                          <li>
                            <input
                              type="text"
                              placeholder=""
                              class="create-input"
                            />
                          </li>
                        </ul>

                        <ul class="create-item">
                          <li>
                            <div class="create-toggle">
                              <p class="toggle-title">필수 문항</p>

                              <input
                                id="option-answer-required2"
                                type="checkbox"
                                class="toggle-checkbox"
                              />
                              <label
                                for="option-answer-required2"
                                class="toggle-switch"
                              >
                                <div class="toggle-body"></div>
                                <div class="toggle-head"></div>
                              </label>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <!-- //end of .wrap-question -->
                  <div class="draggable-bg"></div>
                </div>
              </li>
              <li
                class="StackedListItem StackedListItem--isDraggable StackedListItem--item4"
                tabindex="1"
              >
                <div class="StackedListContent">
                  <h2>
                    >>>>>>>>>>>> Drag & Sort Me!! (드래그 테스트용이니
                    지워주세요)
                  </h2>
                </div>
              </li>
            </ul>
          </section>
          <!-- //end of #SimpleList -->

          <div class="add-question">
            <button class="button-add-question">
              <span>문항 추가하기</span>
            </button>
          </div>

          <div class="create-buttons-container">
            <button class="button-prev">이전</button>
            <button disabled class="button-next">다음</button>
            <!-- [전달사항] 필요 시 disabled 처리해주세요. -->
          </div>
        </div>
      </div>
      <!-- //end of .page-body -->
    </div>
  </body>
  <script>
    function radioAgain() {
      var a = "";
      a = document.querySelector('input[name="votingItemType1"]:checked').id;
      console.log(a);
      document.querySelector(`input[id="${a}"]`).checked = true;
      // console.dir(document.querySelector(`input[id="${a}"]`).checked);
    }

    function SimpleList() {
      const containerSelector = "#SimpleList .StackedList";
      const containers = document.querySelectorAll(containerSelector);

      if (containers.length === 0) {
        return false;
      }
      var sortable = new Draggable.Sortable(containers, {
        draggable: ".StackedListItem--isDraggable",
        mirror: {
          appendTo: containerSelector,
          constrainDimensions: true
        }
      });

      sortable.on("sortable:start", function() {
        radioAgain();
        console.log("궈!");
      });
      sortable.on("sortable:stop", function() {
        console.log("스탑");

        radioAgain();
      });
    }

    SimpleList();
    $('input[type="radio"]').on("change", function() {
      // ...
      console.log("!!!!");
    });
  </script>
</html>
